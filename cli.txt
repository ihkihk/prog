
* Using a REST API
curl --raw -L -X POST --post301 -H "Accept:application/json"
-H "Content-Type: application/json" --data-ascii '{"email":
"singh_vinod@yahoo.com", "password": "password", "username":
"singhvinod494" }' https://index.docker.io/v1/users

curl --raw -L --user vinoddandy:password https://index.docker.io/v1/users

* Running a docker test environment suitable for TDD of SW located in hitcount folder
$ sudo docker run -it -v /home/peter/src/hitcount:/src \
    python:latest /bin/bash
    

* Adding user to a group
> sudo gpasswd -a jenkins newgroup

* Checking for rootkits
> sudo rkhunter --update
> sudo rkhunter --propupd
> sudo rkhunter --check
> sudo chkrootkit
> sudo tiger # (tripwire based!), global pass:vimcho123, local pass:xepy123
after this:
> sudo less /var/log/tiger/security.report.*


* HW Monitoring
$ sudo dmidecode -s bios-vendor

* List VGA devices with their drivers
$ update-pciids
$ lspci -k | grep -EA2 "3D|VGA"

* Stop the X server
$ sudo service lightdm stop

* Get Linux distrib info
$ cat /etc/*release

* Inject 25% idle time to reduce temperature
$ grep . /sys/class/thermal/*/type
  .../sys/class/thermal/cooling_device8/type:intel_powerclamp...
$ sudo sudo sh -c "echo 25 > /sys/class/thermal/cooling_device8/cur_state"  

* Managing alternatives
$ sudo update-alternatives --auto x86_64-linux-gnu_gl_conf
$ sudo update-alternatives --config x86_64-linux-gnu_gl_conf
$ sudo update-alternatives --install /etc/ld.so.conf.d/x86_64-linux-gnu_GL.conf x86_64-linux-gnu_gl_conf /usr/lib/x86_64-linux-gnu/mesa/ld.so.conf 500
$ sudo update-alternatives --remove x86_64-linux-gnu_gl_conf /usr/lib/x86_64-linux-gnu/mesa/ld.so.conf
$ sudo ldconfig -n
$ sudo update-initramfs -u
$ cat /var/log/alternatives.log

* Choosing NVIDIA as the primary VGA
$ sudo prime-select nvidia
$ sudo prime-select query

* Restart
$ sudo init 6

* Detect UEFI
$ [ -d /sys/firmware/efi ] && echo "UEFI" || echo "BIOS"
$ dmesg | grep "EFI v"

* Creating initrd as a compressed cpio image
> find . | cpio --quiet -H newc -o | gzip -9 -n > /boot/imagefile.img
* Examining the contents of an existing image file is just as simple::
> mkdir /tmp/imagefile
> cd /tmp/imagefile
> gzip -cd /boot/imagefile.img | cpio -imd --quiet

* Extracting icons from windows *.exe for wine
> wrestool -x -t14 --output=. TINE.exe
> convert TINE_t14_ICON.ico main_icon.png
OR
> for i in *.ico; do convert "$i" "$i.png"; done
- PNG files can be stored here ~/.local/share/icons/hicolor/256x256/apps/
- .DESKTOP files for WINE apps are here: ~/.local/share/applications/wine/Programs/[Prog Name]

* Restarting services
** On a modern systemd Ubuntu
> sudo systemctl restart network-manager (or networking)
** On older versions
> sudo service networking|network-manager restart|start|stop
> sudo service networking restart|start|stop
> sudo /etc/init.d/networking restart|start|stop

* Dumping the ACPI tables
> sudo acpidump > acpidata.dat
> acpixtract -sSSDT acpidata.dat
> acpixtract -sDSDT acpidata.dat
> acpixtract -sFACP acpidata.dat
> iasl -d dsdt.dat ssdt*.dat facp.dat
OR a bit easier with the dev. version of the FW test suite
> sudo fwts acpidump -

* Setting up mysql
> mysql -uroot -p
> create database wordpress;
> create user 'wordpressU'@'localhost' identified by 'wordpressP';
> grant all on wordpress.* to wpU@'localhost' identified by 'wpP';
> flush priviliges;
> exit

* Installing LAMP stack (Linux, Apache, MySQL, PHP7) on Ubuntu 16.04 [link](https://www.linode.com/docs/web-servers/lamp/install-lamp-on-ubuntu-16-04)
> sudo apt-get update && sudo apt-get upgrade
** Apache2
> sudo apt-get install apache2
> In /etc/apache2/apache2.conf: KeepAlive Off
* The default multi-processing module (MPM) for Apache is the event module but by default PHP uses the prefork module. Open the mpm_prefork.conf file located in /etc/apache2/mods-available and edit the configuration. Below are the suggested values for a 2GB Linode:
> In /etc/apache2/mods-available/mpm_prefork.conf:
<IfModule mpm_prefork_module>
        StartServers            4
        MinSpareServers         20
        MaxSpareServers         40
        MaxRequestWorkers       200
        MaxConnectionsPerChild  4500
</IfModule>
* Disable the event module and enable prefork:
> sudo a2dismod mpm_event
> sudo a2enmod mpm_prefork
> sudo systemctl restart apache2
* Configure virtual hosts
In file: /etc/apache2/sites-available/example.com.conf
<Directory /var/www/html/example.com/public_html>
    Require all granted
</Directory>
<VirtualHost *:80>
        ServerName example.com
        ServerAlias www.example.com
        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html/example.com/public_html

        ErrorLog /var/www/html/example.com/logs/error.log
        CustomLog /var/www/html/example.com/logs/access.log combined

</VirtualHost>
> sudo mkdir -p /var/www/html/example.com/{public_html,logs}
> Enable virtual host: sudo a2ensite example.com.conf (to disable: a2dissite example.com.conf)
> Disable the default virtual host to minimize security risks: sudo a2dissite 000-default.conf
> sudo systemctl reload apache2
** MySQL
> sudo apt-get install mysql-server
> mysql -u root -p
> ALTER USER 'root'@'localhost' IDENTIFIED WITH 'mysql_native_password' BY 'password';
> CREATE DATABASE webdata;
> GRANT ALL ON webdata.* TO 'webuser' IDENTIFIED BY 'password';
** PHP7
> sudo apt-get install php7.0 php-pear libapache2-mod-php7.0 php7.0-mysql
> sudo apt-get install php7.0-curl php7.0-json php7.0-cgi
> In file: /etc/php/7.0/apache2/php.ini
max_input_time = 30
error_reporting = E_COMPILE_ERROR | E_RECOVERABLE_ERROR | E_ERROR | E_CORE_ERROR
error_log = /var/log/php/error.log
> sudo mkdir /var/log/php
> sudo chown www-data /var/log/php
> sudo systemctl restart apache2

* Installing Magento2
> sudo apt-get install php7.0-common php7.0-gd php7.0-mcrypt php7.0-curl php7.0-intl php7.0-xsl php7.0-mbstring php7.0-zip php7.0-iconv mysql-client

